<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>3D Timelapse Models with Videos</title>

  <!-- Google Model Viewer -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      font-family: sans-serif;
      margin: 20px;
    }

    model-viewer {
      width: 90vw;
      max-width: 800px;
      height: 600px;
      margin-bottom: 20px;
      background-color: #f0f0f0;
    }

    .video-container {
      width: 90vw;
      max-width: 800px;
      height: 450px;
      margin-bottom: 20px;
      display: none; /* hidden by default */
    }

    button {
      margin: 0 5px;
      padding: 8px 12px;
      font-size: 1rem;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <h1>3D Timelapse Models with Videos</h1>

  <!-- 3D Model Viewer -->
  <model-viewer
    id="viewer"
    src=""
    alt="3D model"
    camera-controls
    auto-rotate
    shadow-intensity="1"
    exposure="1"
    touch-action="pan-y">
  </model-viewer>

  <!-- Video containers -->
  <div id="video1" class="video-container">
    <iframe width="100%" height="100%"
      src="https://www.youtube.com/embed/rIRaMQCrBYU"
      title="24HR 300cis"
      frameborder="0"
      allowfullscreen>
    </iframe>
  </div>

  <div id="video2" class="video-container">
    <iframe width="100%" height="100%"
      src="https://www.youtube.com/embed/E14wngHJKH4"
      title="24HR 30cis"
      frameborder="0"
      allowfullscreen>
    </iframe>
  </div>

  <div id="video3" class="video-container">
    <iframe width="100%" height="100%"
      src="https://www.youtube.com/embed/J3KHXilgRpw"
      title="24HR 100cis"
      frameborder="0"
      allowfullscreen>
    </iframe>
  </div>

  <!-- Buttons for switching models -->
  <div id="buttons"></div>

  <script>
    const viewer = document.getElementById('viewer');

    // Map models to videos
    const models = [
      { name: "models/24HR_300cis_timelapse_z.glb", label: "24HR 300cis", videoId: "video1" },
      { name: "models/24HR_30cis_timelapse_z.glb", label: "24HR 30cis", videoId: "video2" },
      { name: "models/24HR_100cis_timelapse_z.glb", label: "24HR 100cis", videoId: "video3" }
    ];

    // Dynamically create buttons
    const buttonsDiv = document.getElementById('buttons');
    models.forEach(model => {
      const btn = document.createElement('button');
      btn.textContent = model.label;
      btn.addEventListener('click', () => changeModel(model.name, model.videoId));
      buttonsDiv.appendChild(btn);
    });

    // Change model + video
    function changeModel(modelPath, videoId) {
      // Load 3D model
      viewer.src = modelPath;

      // Hide all videos
      document.querySelectorAll('.video-container').forEach(v => {
        v.style.display = 'none';
      });

      // Show selected video
      const selectedVideo = document.getElementById(videoId);
      selectedVideo.style.display = 'block';
    }

    // Initialize first model on load
    changeModel(models[0].name, models[0].videoId);
  </script>
</body>
</html>
